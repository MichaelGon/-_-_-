# Работа с Redis и Redis-cluster

## Установка Redis

Устанавливаем Redis и в командной строке проверяем его работоспособность (после команды redis-server видим сообщение, что сервер работает; после переходим в командную строку Redis с помощью команды redis-cli и проверяем наличие связи с помощью команды ping).

![Текст с описанием картинки](/images2/HW2-1.png)

## Команды на Redis

Данные большого объёма для вставки возьмём [здесь](https://github.com/Redis-Developer/redis-datasets/tree/movie-dataset/movie-database). Ниже представлены выполненные команды вставки (в первом файле 1319 элементов для вставки, а во втором - 5996 элементов), а также время их исполнения.

![Текст с описанием картинки](/images2/HW2-2.png)
![Текст с описанием картинки](/images2/HW2-3.png)
![Текст с описанием картинки](/images2/HW2-4.png)
![Текст с описанием картинки](/images2/HW2-5.png)

Теперь проверим время выполнения чтения (всех ключей, только актёров (1319) и только юзеров (5996) соответственно).

![Текст с описанием картинки](/images2/HW2-6.png)
![Текст с описанием картинки](/images2/HW2-7.png)
![Текст с описанием картинки](/images2/HW2-8.png)

Также проверим время выполнения операций LPUSH и LPOP.

![Текст с описанием картинки](/images2/HW2-9.png)
![Текст с описанием картинки](/images2/HW2-10.png)
![Текст с описанием картинки](/images2/HW2-11.png)
![Текст с описанием картинки](/images2/HW2-12.png)

## Установка Redis-cluster

Чтобы установить Redis-cluster, я прочитал [документацию](https://www.geeksforgeeks.org/complete-guide-to-redis-php/).

![Текст с описанием картинки](/images2/HW2-13.png)
![Текст с описанием картинки](/images2/HW2-14.png)
![Текст с описанием картинки](/images2/HW2-15.png)
![Текст с описанием картинки](/images2/HW2-16.png)
![Текст с описанием картинки](/images2/HW2-17.png)

## Команды на Redis-cluster

Ниже представлены выполненные команды (для простоты я перешёл на Python и Jupyter Notebook), а также время их исполнения.

![Текст с описанием картинки](/images2/HW2-18.png)
![Текст с описанием картинки](/images2/HW2-19.png)

## Итоги

Видим, что в hkeys на cluster затрачивалось немного больше времени, поскольку есть задержка на распределение по узлам. В остальных командах время было примерно таким же, большие команды приходились на одну ноду, что согласуется с практикой. 
