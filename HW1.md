# ДЗ №1. Знакомство с MongoDB

## Установка

MongoDB я устанавливал через [официальный сайт](https://www.mongodb.com/). При установке я также скачал и MongoDBCompass (в котром можно всё пронаблюдать визуально), в конце я скачал MongoDBShell через тот же [официальный сайт](https://www.mongodb.com/).

В cmd после скачивания я написал команду mongosh, из котрой извлёк локальный андрес, на котром была развёрнута MongoDB; с помощью этого адреса я установил соединение в MongoDBCompass и увидел, что уже существуют три базы данных:

![Текст с описанием картинки](/images/HW1-1.png)

## Создание БД и заполнение данными

Датасет я взял [отсюда](https://habr.com/ru/company/edison/blog/480408/); решил выбрать вариант [Jeopardy Dataset](https://www.reddit.com/r/datasets/comments/1uyd0t/200000_jeopardy_questions_in_a_json_file/?rdt=47595)— более 200 000 записей «вопрос-ответ» из популярной телевизионной игры. Итого вот как это отображается в MongoDBCompass:

![Текст с описанием картинки](/images/HW1-2.png)

## Операции

Теперь же мы будем работать в MongoDBShell. Будем выполнять операции CRUD. Начнем с findOne:

![Текст с описанием картинки](/images/HW1-3.png)

Теперь же попробуем find с использованием sort и limit:

![Текст с описанием картинки](/images/HW1-4.png)

Далее будем замерять ещё и время исполнения команд. Запустим команду, использующую оператор $gt и замерим время:

![Текст с описанием картинки](/images/HW1-6.png)
![Текст с описанием картинки](/images/HW1-5.png)

Как видим, время исполнения 9 миллисекунд и выведено ровно 50 документов, что соответствует limit(50) в запросе.

Далее операция updateOne. Произошла операция мгновенно.

![Текст с описанием картинки](/images/HW1-7.png)
![Текст с описанием картинки](/images/HW1-8.png)

Теперь операция updateMany. Заняла 347 миллисекунд.

![Текст с описанием картинки](/images/HW1-9.png)

Операция deleteOne. Заняла 2 миллисекунды.

![Текст с описанием картинки](/images/HW1-10.png)

Операция deleteMany. Было удалено 30454 документа, сама операция заняла 1461 миллисекунду.

![Текст с описанием картинки](/images/HW1-11.png)

Операция insertOne. Произошла операция мгновенно.

![Текст с описанием картинки](/images/HW1-12.png)

Операция insertMany. Произошла операция мгновенно.

![Текст с описанием картинки](/images/HW1-13.png)

## Создание индекса и сравнение времени работы

Создадим индекс.

![Текст с описанием картинки](/images/HW1-14.png)

После сравним время работы по поиску всех экземпляров. Как мы видим стало 2 миллисекунды, что на порядок быстрее без использования индекса.

![Текст с описанием картинки](/images/HW1-15.png)

Далее проведем операцию вставки. Вот здесь уже 19 миллисекунд, что намного дольше случая без индекса.

![Текст с описанием картинки](/images/HW1-16.png)

Операция удаления заняла меньше  предыдущего удаления.

![Текст с описанием картинки](/images/HW1-17.png)

И осталось только обновление. Заняла 32 миллисекунды, что на порядок быстрее, чем раньше.

![Текст с описанием картинки](/images/HW1-18.png)
